let data = [
    {
      "address": "3543 W Cary St, Richmond, VA 23221, USA",
      "longitude": -77.48778580000001,
      "latitude": 37.5554667,
      "description": "Bakery, Leftoverts",
      "end-time": "10pm",
      "start-time": "9pm",
      "name": "Montana Gold Bread Co."
    },
    {
      "end-time": "1:00p.m",
      "latitude": 36.8155682,
      "start-time": "11:00a.m",
      "description": "Food Pantry",
      "address": "926 Cherokee Rd, Portsmouth, VA 23701, USA",
      "longitude": -76.37768299999999,
      "name": "West Park Food Pantry"
    },
    {
      "latitude": 39.4416886,
      "description": "",
      "end-time": "8:00pm 3/30/2022",
      "longitude": -84.3573474,
      "address": "Easton Manor Dr, Monroe, OH 45050, USA",
      "start-time": "5:00pm 3/30/2022",
      "name": "Monroe First Church of God"
    },
    {
      "description": "Food Pantry",
      "latitude": 37.4368647,
      "longitude": -79.1821599,
      "start-time": "12:00a.m",
      "address": "1000 Langhorne Rd, Lynchburg, VA 24503, USA",
      "end-time": "12:00p.m",
      "name": "Rivermont Area Emergency Food Pantry"
    },
    {
      "start-time": "9:00a.m",
      "latitude": 37.5844571,
      "end-time": "11:00a.m",
      "description": "Food Pantry (Also offers cat and dog food))",
      "longitude": -77.46398169999999,
      "address": "1704 W Laburnum Ave, Richmond, VA 23227, USA",
      "name": "Christ Ascension Episcopal Church"
    },
    {
      "longitude": -77.4014782,
      "description": "Food Pantry",
      "start-time": "12:00a.m",
      "address": "32 E Wythe St, Petersburg, VA 23803, USA",
      "end-time": "12:00p.m",
      "latitude": 37.2265593,
      "name": "Victory Christian U.C.C."
    },
    {
      "end-time": "",
      "longitude": -78.51084589999999,
      "latitude": 38.0316188,
      "address": "Rice Hall Information Technology Engineering Building, 85 Engineer's Way, Charlottesville, VA 22903, USA",
      "description": "descriptoin here ----",
      "start-time": "",
      "name": "rice hall"
    },
    {
      "longitude": -76.2570769,
      "latitude": 36.9167472,
      "start-time": "12:00a.m",
      "address": "543 E Little Creek Rd, Norfolk, VA 23505, USA",
      "description": "Food Pantry",
      "end-time": "12:00p.m",
      "name": "Village Family"
    },
    {
      "end-time": "12:00p.m",
      "start-time": "12:00a.m",
      "latitude": 37.3837316,
      "longitude": -79.1553603,
      "address": "3026 Carroll Ave, Lynchburg, VA 24501, USA",
      "description": "Food Pantry",
      "name": "Agape Center Lynchburg"
    },
    {
      "start-time": "3pm",
      "description": "School, Leftovers from Picnic",
      "address": "1110 W Leigh St, Richmond, VA 23220, USA",
      "latitude": 37.5546973,
      "longitude": -77.44894,
      "end-time": "4pm",
      "name": "Carver Elementary School"
    },
    {
      "latitude": 37.2806525,
      "description": "Food Pantry",
      "start-time": "12:00a.m",
      "end-time": "12:00a.m",
      "longitude": -79.9482194,
      "address": "521 Madison Ave NW, Roanoke, VA 24016, USA",
      "name": "Sweet Union Baptist Church - USDA"
    },
    {
      "latitude": 37.0227364,
      "longitude": -76.327415,
      "address": "125 W County St, Hampton, VA 23663, USA",
      "description": "Food Pantry",
      "start-time": "12:00a.m",
      "end-time": "12:00p.m",
      "name": "Zion Baptist Church, Hampton"
    },
    {
      "longitude": -77.37882739999999,
      "start-time": "7:00pm",
      "end-time": "9:00pm",
      "latitude": 38.8891497,
      "address": "3500 West Ox Rd, Fairfax, VA 22033, USA",
      "description": "",
      "name": "Navy Elementary"
    },
    {
      "start-time": "10:00a.m",
      "description": "Food Pantry",
      "address": "4444 Expressway Dr, Virginia Beach, VA 23452, USA",
      "end-time": "12:00p.m",
      "latitude": 36.8319044,
      "longitude": -76.12975,
      "name": "Helping Hands Food Pantry at Vineyard"
    },
    {
      "description": "",
      "latitude": 37.5425868,
      "longitude": -77.42381490000001,
      "start-time": "1:00pm 3/28/2022",
      "end-time": "4:00pm 3/28/2022",
      "address": "1021 Oliver Hill Way, Richmond, VA 23219, USA",
      "name": "Capital Area Partnership Uplifting People (CAPUP)"
    },
    {
      "longitude": -77.4099049,
      "latitude": 37.52780420000001,
      "address": "400 Chimborazo Blvd, Richmond, VA 23223, USA",
      "end-time": "5:00pm 3/27/2022",
      "start-time": "3:00pm 3/27/2022",
      "description": "",
      "name": "Masjid Bilal"
    },
    {
      "address": "3543 W Cary St, Richmond, VA 23221, USA",
      "start-time": "9pm 3/28/2022",
      "longitude": -77.48778580000001,
      "description": "Bakery, Leftovers",
      "end-time": "10pm 3/28/2022",
      "latitude": 37.5554667,
      "name": "Montana Gold Bread Co."
    },
    {
      "address": "1415 Rhoadmiller St, Richmond, VA 23220",
      "longitude": -77.45572,
      "description": "Food bank",
      "latitude": 37.56651,
      "end-time": "8:00pm 3/27/2022",
      "start-time": "6:00pm 3/27/2022",
      "name": "Feed More"
    },
    {
      "address": "1616 Todds Ln, Hampton, VA 23666, USA",
      "end-time": "12:00p.m",
      "longitude": -76.4113151,
      "latitude": 37.0390584,
      "start-time": "12:00a.m",
      "description": "Food Pantry",
      "name": "Tender Care Adult Residence"
    },
    {
      "latitude": 36.8794387,
      "longitude": -76.2626998,
      "end-time": "12:00p.m",
      "address": "3256 Tidewater Dr, Norfolk, VA 23509, USA",
      "description": "Food Pantry",
      "start-time": "12:00a.m",
      "name": "Temple of Prayer"
    },
    {
      "description": "Bakery, Leftoverts",
      "address": "3543 W Cary St, Richmond, VA 23221, USA",
      "longitude": -77.48778580000001,
      "latitude": 37.5554667,
      "start-time": "9pm",
      "end-time": "10pm",
      "name": "Montana Gold Bread Co."
    },
    {
      "description": "Food Pantry",
      "end-time": "12:00p.m",
      "address": "206 Vance St, Danville, VA 24540, USA",
      "start-time": "12:00a.m",
      "longitude": -79.38065259999999,
      "latitude": 36.60568860000001,
      "name": "Vance Street Missionary Baptist Church - USDA"
    },
    {
      "start-time": "3:00pm 3/28/2022",
      "longitude": -1.2155132,
      "latitude": 52.9341015,
      "description": "",
      "end-time": "8:00pm 3/28/2022",
      "address": "Hope house, Boundary Rd, Beeston, Nottingham NG9 2RF, UK",
      "name": "Hope House"
    },
    {
      "latitude": 37.5349355,
      "description": "Bakery, Leftovers",
      "end-time": "8:00pm 3/28/2022",
      "address": "620 N 25th St, Richmond, VA 23223, USA",
      "longitude": -77.4158943,
      "start-time": "6:00pm 3/28/2022",
      "name": "Sub Rosa Bakery"
    },
    {
      "start-time": "11:00a.m",
      "latitude": 36.8255913,
      "description": "Food Pantry",
      "longitude": -76.26467989999999,
      "address": "1616 Vine St, Norfolk, VA 23523, USA",
      "end-time": "1:00p.m",
      "name": "St Thomas AME Church"
    },
    {
      "start-time": "11:00a.m",
      "latitude": 36.8155682,
      "description": "Food Pantry",
      "end-time": "1:00p.m",
      "longitude": -76.37768299999999,
      "address": "926 Cherokee Rd, Portsmouth, VA 23701, USA",
      "name": "West Park Food Pantry"
    },
    {
      "longitude": -77.36163189999999,
      "address": "300 Poplar Dr, Petersburg, VA 23805, USA",
      "start-time": "12:00a.m",
      "description": "Food Pantry",
      "end-time": "12:00p.m",
      "latitude": 37.1885456,
      "name": "Petersburg 7th Day Adventist"
    },
    {
      "start-time": "12:00a.m",
      "description": "Food Pantry",
      "longitude": -78.8625929,
      "latitude": 38.4598464,
      "end-time": "12:00p.m",
      "address": "185 Ashby Ave, Harrisonburg, VA 22802, USA",
      "name": "Salvation Army"
    },
    {
      "description": "Grocery Store, Leftovers",
      "end-time": "7:00pm 3/27/2022",
      "latitude": 37.5574138,
      "address": "4 N Thompson St, Richmond, VA 23221, USA",
      "longitude": -77.4884332,
      "start-time": "4:00pm 3/27/2022",
      "name": "Ellwood Thompsons"
    },
    {
      "latitude": 36.8877131,
      "start-time": "12:00a.m",
      "description": "Food Pantry",
      "longitude": -76.3079817,
      "end-time": "12:00p.m",
      "address": "Wesley House, 1338 W 49th St, Norfolk, VA 23508, USA",
      "name": "IGNITE Norfolk"
    },
    {
      "start-time": "10:00a.m",
      "latitude": 37.518504,
      "longitude": -77.446457,
      "end-time": "1:00p.m",
      "address": "1501 Decatur St, Richmond, VA 23224, USA",
      "description": "Food Pantry",
      "name": "First Baptist Church-South Richmond"
    }
  ]
window.onload = function(){
    var map = L.map('map').setView([37.56651, -77.45572], 13);
    icon = L.divIcon({
        className: 'custom-div-icon',
            html: "<div style='background-color:#4838cc;' class='marker-pin'></div><i class='fa-solid fa-wheat-awn'></i>",
            iconSize: [30, 42],
            iconAnchor: [15, 42]
        });


    L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}', {
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        maxZoom: 18,
        id: 'mapbox/streets-v11',
        tileSize: 512,
        zoomOffset: -1,
        accessToken: 'pk.eyJ1IjoibHVrZXRyZW5hbWFuIiwiYSI6ImNsMTg4NmduZzA5cGszYnVsYmM1MjZ0d2UifQ.sIOH_Wp8owixptV9YIau4g'
    }).addTo(map);
    window.generateLocation = function(obj){
        var marker = L.marker([obj.latitude, obj.longitude],{
            title:"Kroger's Grocery Store",
            "icon":icon
        }).addTo(map);
        var popup = L.popup({
            closeButton: false,
            autoClose: false
          })
          .setLatLng([obj.latitude, obj.longitude])
          .setContent(`
          <div><h1>${obj.name}</h1>
            <p>You are able to get food at this location.</p>
            <p>${obj.description}</p>
            <p>Available from ${obj["start-time"]} to ${obj["end-time"]}</p>
            <p>Click <a target = "_blank" href="https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(obj.address)}">here</a> for direcitons.</p>
          </div>`);
        marker.bindPopup(popup);
    }
    data.forEach(function(val){
        generateLocation(val);
    })
}